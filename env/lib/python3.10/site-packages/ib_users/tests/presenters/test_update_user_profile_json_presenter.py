def test_update_user_profile_json_presenter():
    from ib_users.interactors.user_profile_interactor import GetUserProfileDTO
    from ib_users.constants.user_profile.enums import Gender, Language

    user_profile_dto = GetUserProfileDTO(
        name="Robert",
        gender=Gender.MALE.value,
        dob="",
        profile_pic_url="https://avatars2.githubusercontent.com/u/1500684?s=64&v=4",
        phone_number="9999999999",
        country_code="+91",
        email="test@example.com",
        language_preference=Language.ENGLISH.value,
        is_phone_number_verified=True,
        is_email_verified=True,
        user_id="1",
        iso_country_code="IN"
    )

    expected_user_profile_json = {
        "name": user_profile_dto.name,
        "gender": user_profile_dto.gender,
        "dob": user_profile_dto.dob,
        "profile_pic_url": user_profile_dto.profile_pic_url,
        "phone_number": user_profile_dto.phone_number,
        "country_code": user_profile_dto.country_code,
        "email": user_profile_dto.email,
        "language_preference": user_profile_dto.language_preference,
        "is_phone_number_verified": user_profile_dto.is_phone_number_verified,
        "is_email_verified": user_profile_dto.is_email_verified,
        "user_id": "1",
        "iso_country_code": "IN",
        "last_name": user_profile_dto.last_name,
        "cover_page_url": user_profile_dto.cover_page_url,
        "is_active": user_profile_dto.is_active,
    }

    from ib_users.presenters.user_profile_json_presenter import \
        UserProfileJSONPresenter
    presenter = UserProfileJSONPresenter()
    presenter_response = presenter.update_user_profile(user_profile_dto)
    assert presenter_response == expected_user_profile_json
