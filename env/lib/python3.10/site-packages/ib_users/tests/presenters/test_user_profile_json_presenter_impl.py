def test_get_user_profile():
    from ib_users.interactors.user_profile_interactor import GetUserProfileDTO
    from ib_users.constants.user_profile.enums import Gender, Language
    user_profile_data = GetUserProfileDTO(
        user_id="1",
        name="iB User2",
        gender=Gender.MALE.value,
        dob="1994-07-01",
        profile_pic_url="",
        phone_number="9876543210",
        country_code="91",
        email="first@last.com",
        language_preference=Language.ENGLISH.value,
        iso_country_code="IN"
    )

    user_profile_dict = {
        "name": user_profile_data.name,
        "gender": user_profile_data.gender,
        "dob": user_profile_data.dob,
        "profile_pic_url": user_profile_data.profile_pic_url,
        "phone_number": user_profile_data.phone_number,
        "country_code": user_profile_data.country_code,
        "email": user_profile_data.email,
        "language_preference": user_profile_data.language_preference,
        "is_phone_number_verified": user_profile_data.is_phone_number_verified,
        "is_email_verified": user_profile_data.is_email_verified,
        "user_id": user_profile_data.user_id,
        "iso_country_code": "IN",
        "last_name": user_profile_data.last_name,
        "cover_page_url": user_profile_data.cover_page_url,
        "is_active": user_profile_data.is_active,
    }

    from ib_users.presenters.user_profile_json_presenter import \
        UserProfileJSONPresenter
    presenter_json_impl = UserProfileJSONPresenter()
    get_user_profile_response = presenter_json_impl.get_user_profile(
        user_profile_data)
    assert get_user_profile_response == user_profile_dict
